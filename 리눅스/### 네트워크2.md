### 네트워크2

####프로토콜이란?
서로 다른 시스템 및 기기 간 데이터 교환을 원활히 하기 위한 표준화된 통신규약

특징
- 단편화
- 재조립
- 캡슐화
- 연결제어
- 오류제어
- 동기화
- 다중화
- 주소 지정

기본요소
- 구문
송수신 데이터형식, 코딩, 신호레벨 등 규정
- 의미
제어 정보, 조정과 에러처리를 위한 규정
- 타이밍
속도 조절과 순서관리 규정

종류
- 응용
HTTP, SMTP, FTP, Telnet
- 표현
ASCII, MPEG, JPEG, MIDI
- 세션
NetBIOS, SAP, SDP, NWLink
- 전송
TCP, UDP, SPX
- 네트워크
IP, IPX
- 데이터 링크
Ethernet, Token Ring, FDDI
- 물리

#### 응용계층 프로토콜
 FTP : port(20(데이터전송용),21(제어용))
> 파일 전송 프로토콜
> 보안성 문제로 TLS와 결합한 FTPS와 SSH와 결합한 SFTP가 있다.

TFTP : port(69)
>파일 전송 프로토콜
> FTP보다 단순한 방식으로 불안정
> 임베디드 시스템에서 운영체제 업로드로 주로 사용됨

Telnet : port(23)
>원격지 컴퓨터 시스템에 로그인 할 수 있도록 도와주는 프로토콜

HTTP : port(80)
>하이퍼 텍스트 전송 프로토콜
> 인터넷에서 하이퍼텍스트문서를 교환하기 위해 사용되는 프로토콜

SNMP: port(161)
>네트워크 관리 시스템 프로토콜
> 네트워크 관련 자원들을 효율적으로 감시하고 제어하는 기능

SMTP : port(25)
>전자 우편 전송(송신) 프로토콜
>TCP/IP 호스트의 우편함에 아스키 문자 메시지를 전송

POP3 : port(110)
>전자 우편 전송(수신) 프로토콜
>전송받은 메일을 저장하고 있다가 사용자가 메일 서버에 접속하면 이를 보내주는 역할

DHCP : port(67(BOOTP 서버),68(BOOTP 클라이언트))
>클라이언트가 동적인 IP주소를 할당받아 인터넷을 사용할 수 있게 해주는 프로토콜

ICMP : port(1)
>운영체제에서 오류메시지를 전송받는데 쓰이는 프로토콜

<br>
#### 포트 번호 정리
<br>

|프로토콜|포트|
|:-----|:----|
|FTP|20,21|
|TFTP|69|
|Telnet|23|
|HTTP|80|
|SNMP|161|
|SMTP|25|
|POP3|110|
|DHCP|67.68|
|ICMP|1|

#### OSI 7계층
컴퓨터 통신 구조의 모델과 앞으로 개발될 프로토콜의 표준적인 뼈대를 제공하기 위해서 개발된 참조 모델

#### 1계층 : 물리 계층
 - 네트워크 통신을 위한 물리적인 표준 정의
 - 물리 계층 장비 : 리피터, 허브

#### 2계층 : 데이터 링크 계층
- 물리적 계층을 통한 데이터 전송에 신뢰성을 제공
- MAC주소 지정, 오류통지, 프레임의 순차적 전송, 흐름제어 등의 기능이 있다.
- 프레임을 안전하게 전송하는 것을 목적
- 데이터링크 계층 장비 : 스위치, 브릿지

#### 3계층 : 네트워크 계층
- IP,IPX를 담당하고 패킷의 이동경로를 결정
- 경로선택, 라우팅, 논리적인 주소를 정의하는 계층
- 라우팅 프로토콜을 이용해 최적의 경로를 선택
- 네트워크 계층 장비 : 라우터

#### 4계층 : 전송 계층
- 정보를 분할하고 상대편에 도달하기 전에 다시 합치는 과정을 담당(세그먼트)
- 통신에 있어서 오류제어와 흐름제어 담당
- 전송계층 프로토콜: TCP, UDP

#### 5계층 : 세션 계층
- 네트워크 상에서 통신을 할 경우 양쪽 호스트 간에 세션을 열고 닫고 관리하는 기능 담당

#### 6계층 : 표현 계층
- 전송하는 데이터의 포맷을 결정
- 다양한 데이터 포맷을 일관되게 상호 변환하고 압축, 암호화, 복호화 기능 수행
- 표현 계층 프로토콜: ASCII, EBCDIC, GIF, JPEG, AVI, MPEG 등

#### 7계층 : 응용 계층
- 사용자 인터페이스의 역할을 담당
- 사용자들이 이용하는 네트워크 응용 프로그램
- 응용 계층 프로토콜: HTTP, FTP, Telnet, SMTP, DNS, TFTP 등

### TCP/IP 프로토콜

#### 응용 계층
효율성 고려 (응용계층+표현계층+세션계층)

#### 전송 계층
신뢰도, 흐름제어 에러제어를 위한 재전송 책임

#### 인터넷 계층
IP라고함 경로설정, 패킷스위칭

#### 네트워크 접속 계층
데이터링크계층 + 물리계층

### OSI 7계층과 TCP/IP 차이점
- TCP/IP는 표현,세션계층을 응용계층에서 처리
- TCP/IP는 OSI 데이터 링크 계층과 물리계층이 하나로 처리
- TCP/IP는 수십년간 운용 경험에 의해 신뢰도가 높다


### 계층 별 사용 장비
#### 물리계층
인접 장비간 적용되는 물리적 프로토콜을 정의

1) 리피터
> 케이블 전송으로 약화된 신호를 초기화, 증폭, 재전송의 기능을 수행
2) 허브
> 리피터와 마찬가지로 전기적 신호를 증폭
> LAN 전송거리를 연장시키고 여러 대의 장비를 LAN에 접속할 수 있도록 함.
> 한 장비에서 전송된 데이터 프레임을 허브에 연결된 모든 장비에 전송(플러딩)
> 허브에 연결된 장비들은 하나의 충돌도메인 안에 있다
> 엔드 스테이션이 많을수록 충돌도 많아짐

#### 데이터링크 계층
MAC 주소를 사용하는 계층
1)LLC(Logical Link Control)
- 데이터링크의 부계층중 하나로 물리적매체상에서 흐름제어와 에러제어등의 트래픽 관리에 관여
- 두 장비간의 링크를 설정하고 프레임을 송수신하는 방식과 상위 레이어 프로토콜의 종류를 알리는 역할
2)MAC(Media Access Control)
- 프레임의 포맷, 이더넷 동작방식, 충돌감지 및 재전송 방식등을 정의

1) 브릿지
>이더넷장비를 물리적으로 연결하고 프레임의 전송거리를 연장
> 허브와는 달리 Layer2의 주소인 MAC주소를보고 프레임 전송포트를 설정

2) 스위치
>MAC주소테이블을보고 목적지에게만 프레임을 전송
>즉, 각각의 포트가 하나의 충돌도메인에있다.

#### 네트워크 계층
IP주소를 사용하는 계층

1)라우터
>IP주소 등 Layer3 header에 있는 주소를 참조하여 목적지와 연결되는 포트로 패킷전송(라우팅)
> 다른 네트워크(LAN)구간의 장비와 통신을 하려면 반드시 Layer3장비를 거쳐야함

2)스위치
>멀티캐스트, 브로드캐스트, 목적지를 모르는 유니캐스트를 수신할경우 수신포트를 제외한 모든포트에 플러딩.
>L3장비들은 이런 프레임을 모두 차단(브로드캐스트전송을 막음)
> 라우터에 비하면 속도가 빠르지만 장거리 통신망을 연결하는 포트가 없는것이 많다

